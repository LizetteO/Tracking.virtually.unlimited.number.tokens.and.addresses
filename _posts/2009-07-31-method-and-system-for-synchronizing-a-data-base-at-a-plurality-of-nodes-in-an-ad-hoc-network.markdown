---

title: Method and system for synchronizing a data base at a plurality of nodes in an ad hoc network
abstract: A method for synchronizing a data base at a plurality of nodes in an ad hoc network including at least one authentication node group; each authentication node group including a leader node and at least one member node; the method includes: (a) in each respective authentication node group, comparing and identifying differences between the data base at the respective leader node and the data base at each respective member node; (b) for each comparing, if the differences are identified, exchanging data bases between the leader node and the member node; and (c) for each comparing, in no particular order: (1) merging the leader node data base with the member data base at the leader node to create a leader node merged data base; and (2) merging the member node data base with the leader data base at the member node to create a member node merged data base.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08385321&OS=08385321&RS=08385321
owner: Alcatel Lucent
number: 08385321
owner_city: Paris
owner_country: FR
publication_date: 20090731
---
The present invention is directed to telecommunication systems and especially to synchronizing a data base at a plurality of nodes in an ad hoc network.

In an ad hoc network all nodes are mobile and may move into or out of the network at any time. It is difficult task to ensure that data stored at all nodes in the network is the same.

Earlier solutions to ensuring the same data is stored on various nodes in a network involves predefining master and slave relationships. Such relationships may be established and enforced in a fixed network. However in dynamically changing network e.g. in ad hoc networks predetermined master and slave relationships are substantially meaningless and substantially unenforceable if ever defined.

There is a need for a method and system method for synchronizing a data base at a plurality of nodes in an ad hoc network.

A method for synchronizing a data base at a plurality of nodes in an ad hoc network including at least one authentication node group each authentication node group including a leader node and at least one member node the method includes a in each respective authentication node group comparing and identifying differences between the data base at the respective leader node and the data base at each respective member node b for each comparing if the differences are identified exchanging data bases between the leader node and the member node and c for each comparing in no particular order 1 merging the leader node data base with the member data base at the leader node to create a leader node merged data base and 2 merging the member node data base with the leader data base at the member node to create a member node merged data base.

A system for synchronizing a data base at a plurality of nodes in an ad hoc network including at least one authentication authority node group each respective authentication authority node group of the at least one authentication authority node group including a respective group leader node and at least one group member node the system includes a in each respective node a respective comparing unit the respective comparing unit in each respective node of each respective authentication authority node group comparing and identifying differences between at least one predetermined aspect of the data base at the respective group leader node and the at least one predetermined aspect of the data base at each respective group member node b in each respective node a respective communicating unit if the differences identified exceed a predetermined measure the respective communicating units for the respective group leader node and the respective group member node effect an exchanging of data bases between the group leader node and the group member node and c in each respective node a respective data base server unit each respective data base server unit being employed to effect in no particular order 1 merging the group leader node data base with the group member data base at the group leader node to create a group leader node merged data base and 2 merging the group member node data base with the group leader data base at the group member node to create a group member node merged data base.

It is therefore a feature of the present invention to provide a method and system method for synchronizing a data base at a plurality of nodes in an ad hoc network.

Further features of the present invention will be apparent from the following specification and claims when considered in connection with the accompanying drawings in which like elements are labeled using like reference numerals in the various figures illustrating the preferred embodiments of the invention.

In the following detailed description numerous specific details are set forth in order to provide a thorough understanding of the invention. However it will be understood by those skilled in the art that the present invention may be practiced without these specific details. In other instances well known methods procedures components and circuits have not been described in detail so as not to obscure the present invention.

When the terms coupled and connected along with their derivatives are used herein it should be understood that these terms are not intended as synonyms for each other. Rather in particular embodiments connected is used to indicate that two or more elements are in direct physical or electrical contact with each other. Coupled is used to indicated that two or more elements are in either direct or indirect with other intervening elements between them physical or electrical contact with each other or that the two or more elements co operate or interact with each other e.g. as in a cause and effect relationship .

Network includes nodes . Nodes are coupled together to establish a cluster or group and may be configured as an authentication authority node group . That is nodes may be configured to mutually recognize each other as members of their respective cluster using an authentication routine or protocol.

Node is a group leader node GLN . Nodes are group member nodes GMN . Node includes a master agent unit coupled with subagents . Subagent is coupled with a component and subagent is coupled with a component . Components are representative only. There may be more components in node . Components may be configured for addressing specific aspects of operation of a node. By way of example and not by way of limitation components in node may include Authentication Authorization Accounting AAA Quality of Service QoS Backhaul control of the backhaul portions of network backhaul portion intermediate links between the core or backbone of the network and the small subnetworks at the edge of the entire hierarchical network Mesh control of operation of the mesh aspects of network WiMax control of operation of WiMax portions of network and Autoconfig automatic control of certain fundamental aspects of operation network . Node also includes a data base server unit . Data base server unit includes a data base server coupled with a communication unit . Communication unit may be embodied in a data base synchronizing unit DB SYNCH . Communication unit is coupled with other nodes to effect data base synchronization as will be described in greater detail below. Components communicate with data base server via data base Application Programming Interface DB API units .

Node includes a master agent unit coupled with subagents . Subagent is coupled with a component and subagent is coupled with a component . Components are representative only. There may be more components in node . Components may be configured for addressing specific aspects of operation of a node. By way of example and not by way of limitation components in node may include Authentication Authorization Accounting AAA Quality of Service QoS Backhaul control of the backhaul portions of network backhaul portion intermediate links between the core or backbone of the network and the small subnetworks at the edge of the entire hierarchical network Mesh control of operation of the mesh aspects of network WiMax control of operation of WiMax portions of network and Autoconfig automatic control of certain fundamental aspects of operation network . Node also includes a data base server unit . Data base server unit includes a data base server coupled with a communication unit . Communication unit may be embodied in a data base synchronizing unit DB SYNCH . Communication unit is coupled with other nodes to effect data base synchronization as will be described in greater detail below. Components communicate with data base server via data base Application Programming Interface DB API units .

Node includes a master agent unit coupled with subagents . Subagent is coupled with a component and subagent is coupled with a component . Components are representative only. There may be more components in node . Components may be configured for addressing specific aspects of operation of a node. By way of example and not by way of limitation components in node may include Authentication Authorization Accounting AAA Quality of Service QoS Backhaul control of the backhaul portions of network backhaul portion intermediate links between the core or backbone of the network and the small subnetworks at the edge of the entire hierarchical network Mesh control of operation of the mesh aspects of network WiMax control of operation of WiMax portions of network and Autoconfig process for automatic control of certain fundamental aspects of operation network . Node also includes a data base server unit . Data base server unit includes a data base server coupled with a communication unit . Communication unit may be embodied in a data base synchronizing unit DB SYNCH . Communication unit is coupled with other nodes to effect data base synchronization as will be described in greater detail below. Components communicate with data base server via data base Application Programming Interface DB API units .

Some static persistent data in network may need to be communicated across Mobile Network Nodes MNNs . A database synchronization subsystem is used to propagate data from one MNN to another MNN within the same administrative authority group in a cluster within network .

During initialization when a cluster or network network may include only one cluster is just being formed it is important to bring the data on all the MNNs within the same organization up to date . Synchronization of the existing data only takes place when there are at least two nodes in the same authentication authority organization . A group leader is elected by an Autoconfig process a process known to those skilled in the art of communication network design in each organization. The group leader in each organization or group merges all the data and distributes the merged data to all group member MNNs. The Autoconfig process on the Primary Services Node PSN sends the group leader information to data base server unit on PSN . In the exemplary cluster or network of node is designated as a Group Leader Node GLN and may be regarded in the simplified arrangement illustrated in as the PSN and as the group leader node. Whenever a new node is joining cluster the Autoconfig process on PSN provides data base server unit on PSN with the new node information. Data base server unit on PSN constructs a route table and distributes the route table to all nodes in cluster . The Autoconfig process determines the group leader in each organization and sends that information determination of group leader to data base server unit on PSN . Data base server unit on PSN then distributes that information determination of group leader to each node in the same organization.

Each authentication authority group cluster may have a group leader node GLN and some group member nodes GMN . As a practical matter the number of nodes in a group may vary from 1 to 20 or more. Each GMN sends its table checksums to the GLN for comparison. If all table checksums match a CHECKSUM MATCH acknowledgement may be sent back to the GMN and no initialization synchronization is needed. If any of the table checksums do not match the data base server unit of the GLN would send a CHECKSUM MISMATCH acknowledgement to the GMN. The GMN would send the table to the GLN. After the GLN receives the table the GLN compares the contents of the tables merges the tables and updates all the databases on all the nodes in the same organization. If there were any mismatches on any entry in a table the data base server unit compares the timestamps and the newest entry is entered into the final master table.

When any new node joins before initial synchronization is completed in a cluster the new node is processed in the same fashion. If there are multiple nodes belonging to the same group joining a cluster at the same time the multiple nodes are preferably processed substantially simultaneously. Multiple copies of a table may be compared and merged simultaneously. A Flag e.g. initialSyncFlag 0 by default is used for each organization to indicate whether an organization has completed initial synchronization and the Flag may be set to 1 when initial synchronization has been completed.

If any node joins the group after the completion of initial synchronization e.g. initialSyncFlag 1 instead of merging tables with the GLN a joining node may merge tables with one of a neighboring node in its organization.

When multiple clusters come close together without merging nodes belonging to the same group communicate through their respective group leader node. In each cluster the Autoconfig process on the local PSN for the respective group sends the node list including the group leader information of the remote cluster to the data base server unit on the local PSN. The data base server unit on the local PSN then distributes the route tables to the group leader of the local cluster.

When multiple clusters come together to effect an initial data base synchronization group leader nodes in the same organization may exchange table checksums. If the table checksums do not match group leader nodes in a respective organization exchange tables to merge. After the table merge is completed on the group leader nodes the changes may be propagated to all nodes within the same group from the respective group leader nodes in each cluster. The sequence relating to a joining of two clusters into a single network is substantially as follows 

Method continues with in each respective authentication authority node group comparing and identifying differences between at least one predetermined aspect of the data base at the respective group leader node and the at least one predetermined aspect of the data base at each respective group member node as indicated by a block .

Method continues with for each comparing posing a query whether the differences identified exceed a predetermined measure as indicated by a query block . If the differences identified do not exceed the predetermined measure method proceeds from query block via a NO response line to a locus . Method proceeds from locus to carry out steps indicated by blocks . If the differences identified exceed the predetermined measure method proceeds from query block via a YES response line to effect exchanging data bases between the group leader node and the group member node as indicated by a block .

Method continues with for each comparing in no particular order 1 merging the group leader node data base with the group member data base at the group leader node to create a group leader node merged data base as indicated by a block and 2 merging the group member node data base with the group leader data base at the group member node to create a group member node merged data base as indicated by a block .

Method continues by posing a query whether all group member nodes have been processed as indicated by a query block . If all group member nodes have not been processed method proceeds from query block via a NO response line and proceeds to locus . Method proceeds from locus to carry out steps indicated by blocks . If all group member nodes have been processed method proceeds from query block via a YES response line . Method terminates at an END locus .

It is to be understood that while the detailed drawings and specific examples given describe embodiments of the invention they are for the purpose of illustration only that the system and method of the invention are not limited to the precise details and conditions disclosed and that various changes may be made therein without departing from the spirit of the invention which is defined by the following claims.

