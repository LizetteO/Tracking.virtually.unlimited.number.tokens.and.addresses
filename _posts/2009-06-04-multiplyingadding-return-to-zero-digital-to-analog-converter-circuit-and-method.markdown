---

title: Multiplying-adding return to zero digital to analog converter circuit and method
abstract: A digital to analog converter (DAC) method and apparatus employs a multiplying-adding DAC, eliminating digital adder circuitry. Examples are given for multiplying a 3-bit binary number by a 2-bit binary number; however, there are no limitations to the bit-widths of the numbers to be multiplied. The multiplying-adding DAC method can be scaled up or down in bit-width by feeding the DAC with partial sums and adjusting the DAC weights accordingly. An analog to digital converter (ADC) can be placed after the DAC to generate a digital output. By multiplexing preset digital data into the DAC core for return to zero (RTZ), a true zero that is the midpoint of the DAC output range is achieved. It does not return to a rail for single-ended outputs. RTZ in DAC circuits doubles the null frequency of sin(x)/x roll-off inherent in DACs and also helps reduce switching glitches in the DAC output.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08085178&OS=08085178&RS=08085178
owner: BAE Systems Information and Electronic Systems Integration Inc.
number: 08085178
owner_city: Nashua
owner_country: US
publication_date: 20090604
---
The invention was made with United States Government support under Contract No. DAAD17 02 C 0115 awarded by the US Army and under a separate classified contract. The United States Government has certain rights in this invention.

The present invention relates to digital to analog converters DACs and more particularly to a method and apparatus for enhanced performance through improved spurious free dynamic range SFDR and accurate return to zero RTZ performance.

DACs are used in an increasing number of applications many requiring lower power consumption and higher operating frequencies. Direct Digital Synthesis DDS is one of these applications. Basic DDS circuits include an electronic controller random access memory a frequency reference a counter and a DAC. Some versions of DDS circuits include random access memory RAM .

Within direct digital synthesizer circuits improved spurious free dynamic range SFDR is desired. One method to achieve improved SFDR is by adding interpolation to the output of the DDS. To determine the interpolation an approximation of X sin theta Y cos theta can be used. This approximation necessitates the need for an efficient method of multiplication in order to preserve high speed operation of the DDS and minimize power consumption. The traditional method of multiplying two binary numbers involves the use of digital adder circuitry. Digital adder circuitry increases the power consumption of the circuit and reduces operating speed.

The following explanatory discussion involves quotients A and B. A is a 3 bit binary number and B is a 2 bit binary number. The notation for the expanded version of A is A2 A1 A0 and the notation for the expanded version of B is B1 B0. The use of the specific bit widths is convenient for illustration and implementation but any bit widths could be used.

In a traditional binary multiplier approach each bit of the multiplier is multiplied against the multiplicand and positioned according to the position of the bit within the multiplier and the resulting products are then summed to form the final result.

Where the final result of A B S1 S2 and the result is a 5 bit binary number that is then fed into a digital to analog converter DAC circuit.

A large number of gates is involved in the complex logic required to compute this result. This leads to high power consumption and large propagation delay which can decrease speed or necessitate pipelining.

The use of return to zero RTZ in digital to analog converter DAC circuits is a method for doubling the null frequency of sin x x roll off inherent in DACs. RTZ also helps to reduce switching glitches in the DAC output. Typical approaches return to zero for differential outputs but return to a rail for single ended outputs. This introduces a common mode noise signal which can not be totally eliminated in a differential receiver due to practical common mode rejection ratio CMRR characteristics. The approach also lends itself to a long worst case slew rate.

What is needed is a method and apparatus for enhanced DAC performance through improved spurious free dynamic range SFDR and accurate return to zero RTZ performance.

A digital to analog converter DAC method and apparatus employs a multiplying adding DAC eliminating digital adder circuitry. Examples are given for multiplying a 3 bit binary number by a 2 bit binary number however there are no limitations to the bit widths of the numbers to be multiplied. The multiplying adding DAC method can be scaled up or down in bit width by feeding the DAC with partial sums and adjusting the DAC weights accordingly. An analog to digital converter ADC can be placed after the DAC to generate a digital output. By multiplexing preset digital data into the DAC core for return to zero RTZ a true zero that is the midpoint of the DAC output range is achieved. It does not return to a rail for single ended outputs. RTZ in DAC circuits doubles the null frequency of sin x x roll off inherent in DACs and also helps reduce switching glitches in the DAC output.

The multiplying adding DAC eliminates digital adder circuitry reducing power consumption and enabling high speed operation. Computing the summing portion of the multiplication operation in the analog domain eliminates the need for the adder circuitry leading to reduced power consumption. The DAC is already used in DDS applications. Modifications to the DAC allow it to compute the multiplication. The multiplying adding DAC is not limited to DDS circuits. It can be used as is in more general circuits where an analog output is desired and it could be followed by an analog to digital converter ADC in circuits where a digital output is desired.

A circuit and method of implementing a high speed RTZ DAC using NPN transistors including SiGe technology is disclosed. By multiplexing preset digital data into the DAC core a true zero that is the midpoint of the DAC output range can be achieved instead of a zero that is a rail as in prior art.

Embodiments provide true RTZ midpoint of DAC output range for both differential and single ended outputs. They can support arbitrary return location for single ended outputs. They also provide improved slew rate since the return is to the midpoint of the DAC output range instead of a rail.

Embodiments provide use as a return to an arbitrary level for single ended outputs DAC switches require one less level of input so lower supply voltage power is required RTZ compensation switch steers I through both legs or 1 I through a single leg. The technique is transferable to other types of devices technologies in addition to NPN transistors and SiGe. RTZ also helps to reduce switching glitches in the DAC output.

Embodiments include a digital to analog converter DAC device comprising analog domain computation of summing of multiplication operation wherein digital adder circuitry is excluded and whereby spurious free dynamic range SFDR is improved and power consumption is reduced. Other embodiments comprise a multiplying adding DAC MAcDAC . In further embodiments the DAC operates in a direct digital synthesizer DDS circuit and the MAcDAC is scaled by providing partial sums. For some embodiments the MAcDAC is scaled by adjusting DAC weights. Other embodiments comprise weights of 1 2 2 4 4 and 8. Yet other embodiments comprise a 30 GHz clock in and in others operation of the MAcDAC comprises multiplying a 3 bit binary number by a 2 bit binary number. Additional embodiments comprise a separate clock input.

Embodiments provide a digital to analog converter DAC method comprising a return to zero RTZ method comprising multiplexing preset digital data into a DAC core whereby a true zero midpoint is achieved for output range of the DAC and wherein switching glitches are reduced. Other embodiments comprise selecting steering one half of a current through both legs of a circuit or a full current through a single leg of a circuit. In still other embodiments the preset data is sent to RTZ at midpoint of DAC output range whereby slew rate is improved. In some embodiments output is single ended and in some output is differential. For other embodiments the method comprises arbitrary return location for single ended outputs and in some preset data compensates for a difference between a 2weight of DAC most significant bit MSB and a 2 1 weight of DAC least significant bits LSBs by acting as a weight of 0 in normal operation and a weight of 1 in RTZ operation. In yet further embodiments the method comprises eleven data bits and two RTZ compensation bits. Additional embodiments comprise true RTZ weights of 4 16 I thermocoded weights for high 3 16 I thermocoded weights for low 8 I 4 I 2 I 1 I binary weights for low and 2 I RTZ compensation weights for both low wherein output level is 64 I.

Yet another embodiment is a digital to analog converter DAC comprising analog domain computation of summing of multiplication operation wherein digital adder circuitry is excluded and whereby spurious free dynamic range SFDR is improved and power consumption is reduced and return to zero RTZ circuits whereby multiplexed preset digital data achieves a true zero midpoint for output range of the DAC and wherein the RTZ comprises NPN transistors in SiGe technology.

The features and advantages described herein are not all inclusive and in particular many additional features and advantages will be apparent to one of ordinary skill in the art in view of the drawings specification and claims. Moreover it should be noted that the language used in the specification has been principally selected for readability and instructional purposes and not to limit the scope of the inventive subject matter.

The multiplying adding DAC eliminates digital adder circuitry. Less complex logic is used circuitry is faster and power consumption is lower from reduced gate count. The non binary DAC reduces skew by eliminating the weight of 16. Overall current is reduced by 10 weights since the 16 weight is removed and extra 2 and 4 weights are added. Examples are given for multiplying a 3 bit binary number by a 2 bit binary number however there are no limitations to the bit widths of the numbers to be multiplied. The multiplying adding DAC method can be scaled up or down in bit width by feeding the DAC with partial sums and adjusting the DAC weights accordingly. An analog to digital converter ADC can be placed after the DAC to generate a digital output. The approach is not limited to DDS circuits it can be used in any circuit where a digital or analog multiplication output is desired. The following figures include embodiments demonstrating the multiplying adding DAC implemented within a high speed DDS for improved SFDR.

S1 corresponds to DAC DAC and DAC. S2 corresponds to DAC DAC and DAC. In block diagram Thermo coded main DAC data is input to register . Register output is applied to main DAC current switches whose output is applied to Gm gain block . Cos sin input is provided to register and adder . Register output is applied to 21 weight current switches DAC DAC DAC DAC DAC DAC within current switches . Cos coarse provides input to two parallel AND gates and three parallel AND gates . The 2 parallel AND gates provide input to adder . Adder provides input to register whose output is applied to 1 weight current switches . Fine phi input is applied to three parallel AND gates . The 3 parallel AND gates provide input to adder which provides input to register . Register output is applied to 2 weight current switches . Current switches output is applied to the Gm gain block whose output combined with Gm gain block output provides the analog output.

RTZ circuit operation distinctions between normal return to zero NRZ and true RTZ embodiments follow. NRZ operation is characterized by 1. 7 16 I thermocoded weights controlled by input data 2. 8 I 4 I 2 I and 1 I binary weights controlled by input data 3. 2 I RTZ compensation weights one high one low 4. DAC output range of 0.5 I to 127.5 I and 5. DAC midpoint of 64 I. True RTZ operation is characterized by 1. 4 16 I thermocoded weights high 2. 3 16 I thermocoded weights low 3. 8 I 4 I 2 I 1 I binary weights low 4. 2 I RTZ compensation weights both low and 5. Output level 64 I DAC midpoint for true RTZ .

The foregoing description of the embodiments of the invention has been presented for the purposes of illustration and description. It is not intended to be exhaustive or to limit the invention to the precise form disclosed. Many modifications and variations are possible in light of this disclosure. It is intended that the scope of the invention be limited not by this detailed description but rather by the claims appended hereto.

