---

title: Memory device with test mechanism
abstract: A semiconductor memory device includes a plurality of memory cell transistors arranged in a matrix and each configured to store data, and a test circuit configured to output to outside the semiconductor memory device an output signal indicative of an amount of test current flowing through a selected one of the plurality of memory cell transistors, wherein the test circuit includes a plurality of reference cell transistors employed to successively produce varying amounts of currents, a comparison circuit configured to successively compare the amount of test current with each of the varying amounts of currents, and a code generating circuit configured to generate a code indicative of a result of the successive comparisons performed by the comparison circuit, wherein the code is output as the output signal.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08213247&OS=08213247&RS=08213247
owner: NSCore Inc.
number: 08213247
owner_city: Fukuoka
owner_country: JP
publication_date: 20091116
---
The disclosures herein generally relate to a memory circuit and particularly relate to a memory circuit having a test circuit to check an amount of current flowing through a cell transistor.

Conventionally a nonvolatile memory cell requires a special structure such as a floating gate or a special material such as a ferroelectric material or ferromagnetic material for the purpose of achieving nonvolatile data retention. There is a new type of nonvolatile semiconductor memory device called PermSRAM which uses a MIS metal insulating film semiconductor transistor as a nonvolatile memory cell i.e. the basic unit of data storage . The MIS transistor used as a nonvolatile memory cell in PermSRAM has the same structure as ordinary MIS transistors used for conventional transistor functions e.g. switching function and do not require a special structure or a special material as described above. The absence of such a special structure and special material offers an advantage in cost reduction. PermSRAM was initially disclosed in PCT JP2003 016143 which was filed on Dec. 17 2003 the entire contents of which are hereby incorporated by reference.

The MIS transistor used as a nonvolatile memory cell in PermSRAM is configured to experience an irreversible hot carrier effect on purpose for storage of one bit data. Here the irreversible hot carrier effect refers to the injection of carriers into the oxide film insulating film and or sidewalls which causes a change in the transistor s threshold voltage. Whether the threshold voltage has been changed due to a hot carrier effect represents one bit data 0 or 1 . Such a change in the threshold voltage may be detected by sensing a difference in ON current between the nonvolatile memory cell MIS transistor and a reference MIS transistor by using a sensing circuit such as a latch circuit.

When a nonvolatile memory device having nonvolatile memory cells as described above is manufactured there is a need to conduct a test to ensure that the memory cells perform properly as designed. Testing however cannot be performed by use of a conventional test technique which checks memory cells by writing data to and reading data from these cells. This is because the operation of the above noted nonvolatile memory cell is founded on an irreversible change of the transistor characteristics. If a test that creates such an irreversible change is actually performed the memory circuit may no longer be usable.

A test circuit may be provided to compare an amount of current flowing through a nonvolatile memory cell with an amount of current flowing through a test purpose reference cell. Such a test circuit can determine whether the tested cell transistor can be sufficiently conductive to serve as a memory cell. Occurrence of an excessive amount of current flowing through a cell transistor however cannot be detected by this type of test circuit. A cell transistor that allows an excessive amount of current flow is not suitable as a memory cell because an excessively strong hot carrier effect may be required to sufficiently change an ON current for the purpose of data storage. There may even be a case in which data cannot be properly stored in the cell transistor.

Accordingly it may be desirable to provide a memory device that can test a cell transistor to check the amount of current flowing through the cell transistor.

It is a general object of the present invention to provide a semiconductor memory device. According to at least one embodiment of the present invention a semiconductor memory device includes a plurality of memory cell transistors arranged in a matrix and each configured to store data and a test circuit configured to output to outside the semiconductor memory device an output signal indicative of an amount of test current flowing through a selected one of the plurality of memory cell transistors wherein the test circuit includes a plurality of reference cell transistors employed to successively produce varying amounts of currents a comparison circuit configured to successively compare the amount of test current with each of the varying amounts of currents and a code generating circuit configured to generate a code indicative of a result of the successive comparisons performed by the comparison circuit wherein the code is output as the output signal.

In the following embodiments of the present invention will be described with reference to the accompanying drawings.

The memory cell array includes a plurality of memory cells arranged in a matrix form each memory cell having a circuit configuration as will later be described. The memory cells arranged in the same column are connected to the same bit lines and the memory cells arranged in the same row are connected to the same word line.

The mode selector receives mode input signals from an exterior of the device and decodes the mode input signal to determine an operation mode e.g. a write operation mode a read operation mode or a test operation mode . Control signals responsive to the determined operation mode are supplied to the write amplifier the sense amplifier column selector the row signal driver etc. for control of the individual parts of the semiconductor memory device .

The column decoder receives a column address input from the exterior of the device and decodes the column address input to determine a selected column. The decode signals indicative of the selected column are supplied to the write amplifier and the sense amplifier column selector .

The row decoder receives a row address input from the exterior of the device and decodes the row address input to determine a selected row. The decode signals indicative of the selected row are supplied to the row signal driver .

In response to the control signals from the mode selector and the decode signals from the row decoder the row signal driver activates a selected word line among the word lines extending from the row signal driver . As a result of the activation of the selected word line access to each memory cell corresponding to the selected word line is performed through a corresponding bit line or bit line pair among a plurality of bit lines.

In response to the control signals from the mode selector and the decode signals from the column decoder the sense amplifier column selector couples one or more bit lines corresponding to the selected column to a data bus. Through this coupling data is transferred between the memory cell array and the data bus. The sense amplifier column selector amplifies the data read from the memory cell array for provision to the output buffer . The data is output from the output buffer to the exterior of the device as output data. Input data supplied to the input buffer is provided to the write amplifier . The write amplifier amplifies the input data to be written to the memory cell array .

The memory cell includes NMOS transistors and a PMOS transistor NMOS transistors through PMOS transistors and and NMOS transistors and . The NMOS transistors and PMOS transistors and together constitute a volatile memory unit latch circuit . The NMOS transistors and constitute a nonvolatile memory unit . The NMOS transistors and serving as nonvolatile memory cell transistors have the same structure as the other NMOS transistors including the NMOS transistors through used in the volatile memory unit and the NMOS transistors and used as a transfer gate between the memory cell and the bit lines.

As shown in bit lines BL and BL extend from the write amplifier and the sense amplifier column selector and are coupled to the volatile memory unit via the NMOS transistors and serving as a data transfer unit. A word selecting line WLW extends from the row signal driver and is coupled to the gate nodes of the NMOS transistors and serving as the nonvolatile memory unit . A word line WL extends from the row signal driver to be connected to the gates of the NMOS transistors and . Further a restore line RESTORE plate line controlled power line PL and equalize line EQ also extend from the row signal driver .

It should be noted that the configuration shown in is identical with respect to each and every one of the memory cells provided in the memory cell array . Namely multiple sets of the lines RESTORE PL WLW EQ and WL are provided in one to one correspondence to the rows of the memory cell array . In this configuration a store operation storing data from the volatile memory unit to the nonvolatile memory unit and a restore operation reading data from the nonvolatile memory unit to the volatile memory unit may be performed with respect to the entirety of the memory cell array rather than performed on a row address specific basis. Read write operations of the volatile memory unit with respect to the bit lines BL and BL may be performed on a row address specific basis.

The store operation of the nonvolatile memory device will now be briefly described. When the mode input from the exterior of the device indicates a store operation the control lines PL RESTORE WLW EQ and WL are set to EXTRA HIGH HIGH HIGH HIGH and LOW respectively. EXTRA HIGH is an extra high voltage Vpp e.g. 3.3 V and HIGH is a power supply voltage Vdd e.g. 1.8V . The potentials of the node C and the node C are inverse to each other and the data stored in the latch circuit NMOS transistors and and PMOS transistors and determines which one of the nodes C and C is HIGH. For the sake of convenience of explanation it is assumed that the node C is HIGH Vdd 1.8 V and the node C is LOW GND ground . In this case only the NMOS transistor experiences a rise in the threshold voltage due to a hot carrier effect. The NMOS transistor does not experience a change in the threshold voltage. This achieves the storing of the data of the volatile memory unit in the nonvolatile memory unit .

During the store operation as described above the high potential 3.3 V is never applied to the latch circuit. This is because the NMOS transistors and serve as intervening circuit elements between the plate line PL Vpp 3.3 V and the nodes C and C. Since the word selecting line WLW is set to HIGH and the nodes C and C are serving as source nodes the potentials at the nodes C and C cannot exceed HIGH minus the threshold voltage. In this configuration therefore a hot carrier effect does not happen in the transistors used in the latch circuit volatile memory unit .

In the following the restore operation of the nonvolatile memory device will be briefly described. When the mode input from outside the device indicates a restore operation the control lines PL RESTORE WLW EQ and WL are set to LOW LOW LOW HIGH LOW HIGH LOW LOW HIGH HIGH and LOW respectively. Here LOW HIGH LOW for example indicates that the signal level is set to LOW at a first phase HIGH at a second phase and LOW at a third phase.

At the first phase the signal RESTORE is set to LOW and the signal EQ is set to LOW. As a result the NMOS transistor in becomes nonconductive to deactivate the volatile memory unit and the PMOS transistor in becomes conductive to equalize the nodes C and C.

At the second phase the signal EQ is set to HIGH and the word selecting line WLW is set to HIGH. As a result the PMOS transistor is turned off to separate the nodes C and C from each other and the NMOS transistors and are turned on. Assuming that the store operation as described above has been performed prior to the restore operation the NMOS transistor has a higher threshold voltage and thus has a higher ON resistance. Accordingly the force that pulls down the node C is weaker than the force that pulls down the node C resulting in the nodes C and C changing to HIGH and LOW respectively.

At the third phase the signal RESTORE is set to HIGH and the word selecting line WLW is set to LOW. As a result the NMOS transistor becomes conductive to activate the volatile memory unit and the NMOS transistors and are turned off. The activated volatile memory unit amplifies a potential difference appearing between the node C and the node C thereby sensing detecting the data stored in the nonvolatile memory unit .

In the configuration described above a drain node and a source node of the NMOS transistors and used to apply a bias for generating the hot carrier effect are swapped and used as a source node and a drain node respectively at the time of reading the data. With the swapping of the source and drain nodes at the time of data read operation relative to the time of data write operation a change in the transistor characteristics caused by the hot carrier effect is efficiently used as a means to store data. It should be noted however that the storing and reading restoring of data can be performed without such swapping of source and drain nodes as described in PCT JP2003 016143 for example. The swapping of drain and source nodes merely serves to utilize asymmetry of a hot carrier effect. Namely when the source node and drain node used to apply a bias for generating a hot carrier effect are swapped and used as a drain node and a source node respectively at the time of detecting a drain current the detected drain current exhibits a larger drop caused by the hot carrier effect than would be observed when no swapping was performed.

As shown in bit lines BL extend from the write amplifier and the sense amplifier column selector and are coupled to memory cells i.e. NMOS transistors . Further a reference bit line RBL extends from the write amplifier and the sense amplifier column selector and is coupled to reference cells i.e. NMOS transistors each serving as a constant current source. The NMOS transistor may be designed such that its ON current is smaller than the ON current of the NMOS transistor having experienced no hot carrier effect and is larger than the ON current of the NMOS transistor having experienced a hot carrier effect. Word selecting lines WLW extend from the row signal driver to be coupled to the gates of the NMOS transistors and to the gates of the NMOS transistors . Plate lines PL also extend from the row signal driver to be connected to the source drain of the NMOS transistors and to the source of the NMOS transistors .

In the case of a data write operation a selected bit line BL corresponding to a selected column carries write data supplied from an external source. The row signal driver sets a selected word selecting line WLW to 1.8 V and sets the remaining word selecting lines WLW to 0 V. Further the row signal driver sets a selected plate line PL to 3.3 V and sets the remaining plate lines PL to 0 V. This causes the NMOS transistor on the selected row at the selected column to experience a hot carrier effect or not to experience a hot carrier effect depending on the value of the corresponding data bit carried on the selected bit line BL. Further the write amplifier and sense amplifier column selector may be designed such that the reference bit line RBL is placed in a floating state for example. This ensures that the threshold voltages of the NMOS transistors are not changed by a hot carrier effect.

In the case of a data read operation the row signal driver sets a selected word selecting line WLW to 1.8 V and sets the remaining word selecting line WLW to 0 V. All the plate lines PL are kept at 0 V in the data read operation. A selected bit line BL corresponding to a selected column is coupled to a latch which may be provided in the sense amplifier column selector . The reference bit line RBL is also coupled to this latch. The latch senses the data stored in the NMOS transistor on the selected row at the selected column by comparing a data current flowing through this NMOS transistor with a reference current flowing through the NMOS transistor arranged on the same selected row.

In the following a test mechanism provided in the semiconductor memory device will be described. A cell test circuitry is provided together with the write amplifier sense amplifier column selector . In a test operation mode the cell test circuitry detects a current flowing through the NMOS transistor or in the case of the cell array configuration shown in and detects a current flowing through a selected one of the NMOS transistors in the case of the cell array configuration shown in . It should be noted that when the NMOS transistor or is to be tested the word line WL is activated to turn on the NMOS transistors and .

The detected current is supposed to flow in proper amount when the tested NMOS transistor or is tuned on and thus conductive. No current is supposed to flow when the tested NMOS transistor or is tuned off and thus nonconductive. The cell test circuitry provided in the semiconductor memory device is configured to detect an amount of current flowing through the tested memory cell transistor. One or more signals indicative of the detected current amount is output to outside the semiconductor memory device thereby informing a user of the test results. With this provision the amount of current flowing through a cell transistor prior to hot carrier injection may be tested to determine whether the cell transistor has been properly manufactured. Also the amount of current flowing through a cell transistor after hot carrier injection may be tested to determine whether the cell transistor is placed in a properly stored state.

The sense amplifier column selector inclusive of the cell test circuitry and the row signal driver are controlled by the mode selector to perform the above noted test operation. A memory cell transistor that is to be tested may be specified by a row address and a column address applied from outside the semiconductor memory device . The specified memory cell transistor may be coupled to the cell test circuitry under the control of the sense amplifier column selector and the row signal driver . The test operation described herein may be performed with respect to each of the cell transistors and or of all the memory cells.

The NMOS transistors through have the gate nodes thereof to which reference select signals MEAS 0 through MEAS 15 are applied respectively. When one of the reference select signals MEAS 0 through MEAS 15 is set to HIGH the corresponding one of the NMOS transistors through are turned on to become conductive. The gate node of the NMOS transistor is coupled to a test enable signal MEASENA which becomes HIGH whenever one of the reference select signals MEAS 0 through MEAS 15 is set to HIGH.

The NMOS transistors through are configured such that their respective channel widths vary in an increasing order for example. The reference currents Ithrough Ithus have varying amounts. The larger the value of the subscript the larger the amount of the reference current I x 1 2 . . . or 16 for example. The NMOS transistor is configured to have a sufficiently wide channel width so that the amount of the current Idepends only on the characteristics of the tested cell transistor. If the current Iis larger than the reference current I x 1 2 . . . or 16 the input node of the inverter is set to a low potential resulting in a test result TR i.e. output of the inverter being HIGH. If the current Iis smaller than the reference current I x 1 2 . . . or 16 the input node of the inverter is set to a high potential resulting in the test result TR being LOW.

The store diagnostic test circuit produces one bit test result data IOTFAIL and four bit test result data DOUT 3 0 for output to outside the semiconductor memory device . The one bit test result data IOTFAIL indicates whether the true cell i.e. NMOS transistor produces an excessive amount of current that is larger than a maximum tolerable current amount. The four bit test result data DOUT 3 0 represents a binary value indicative of an amount of current flowing through the tested true cell transistor. The store diagnostic test circuit also produces one bit test result data IONFAIL and four bit test result data DOUT 7 4 for output to outside the semiconductor memory device . The one bit test result data IONFAIL indicates whether the bar cell i.e. NMOS transistor produces an excessive amount of current that is larger than a maximum tolerable current amount. The four bit test result data DOUT 7 4 represents a binary value indicative of an amount of current flowing through the tested bar cell transistor. In the above description the term true cell refers to a memory cell that stores an intended data value and the term bar cell refers to a memory cell that stores an inverse of the intended data value which is to be compared with the data of the true cell by a sense amplifier i.e. latch .

When the memory cell array has the configuration as illustrated in a single cell transistor rather than a pair of transistors is tested. In such a case the store diagnostic test circuit may be configured such that only one one bit test result data IOFAIL and only one four bit test result data DOUT 3 0 are produced for output to outside the semiconductor memory device . Since the store diagnostic test circuit for testing a pair of cell transistors i.e. a true cell and a bar cell may have two identical circuit units for conducting identical tests with respect to the two cell transistors one of two such circuit units may be easily removed to modify the store diagnostic test circuit into a test circuit for testing a single cell transistor.

The comparators and have an identical configuration. The comparator is coupled via a node STION to a bar cell to be tested. The comparator receives the reference signal MVP from the reference circuit to produce a test result TR with respect to the bar cell transistor. The comparator is coupled via a node STIOT to a true cell to be tested. The comparator receives the reference signal MVP from the reference circuit to produce a test result TR with respect to the true cell transistor. The binary code generators and have an identical configuration. Based on the test result TR for the bar cell the binary code generator produces the one bit test result data IONFAIL and the four bit test result data DOUT 7 4 for output to outside the semiconductor memory device . Based on the test result TR for the true cell the binary code generator produces the one bit test result data IOTFAIL and the four bit test result data DOUT 3 0 for output to outside the semiconductor memory device .

A counter comprised of the flip flops through counts up in response to the toggling chip enable signal CEB and the reference select signal MEAS 0 while the test result TR is LOW. Once the test result TR changes to HIGH the counter comprised of the flip flops through stops counting leaving the last stored count intact. The last count data DA 0 through DA 3 of the counter is then output from IO nodes IO 0 through IO 3 of the binary code generator i.e. output from IO 3 0 of the binary code generator or illustrated in . Moreover the output of the inverter observed at the sixteenth MEASENA pulse i.e. observed at the pulse of MEAS 15 is output from a node FAIL of the binary code generator.

In the store diagnostic test circuit described above it is expected that the test result TR exhibits LOW pulses when a reference current is below the test current I and stays HIGH after a reference current exceeds the test current I. In some cases however the test result may exhibit an undesirable behavior due to noise.

Referring to again the circuit portion comprised of the NAND gates through and the inverters through serves to cope with the situation as illustrated in . This circuit portion of the first circuit unit causes a LOW level appearing at TRQ x x 1 2 or 3 to propagate to TRQ x 1 . Namely a LOW level appearing at TRQ x causes TRQ x 1 to be changed to LOW. This propagates all the way to TRQ 0 . This arrangement ensures that one or more 1s i.e. bit value 1 appearing in the resultant bit sequence TRQ 0 TRQ 1 TRQ 2 and TRQ 3 are always consecutive and fill to the rightmost bit.

With the binary code generator shown in a LOW level appearing at TRQ x causes TRQ x 1 to be changed to LOW which propagates all the way to TRQ 0 . This arrangement means that the four bit test result data DOUT 3 0 and DOUT 7 4 indicate a reference current amount that is the largest to fall below i.e. be smaller than the test current I. With the binary code generator shown in a HIGH level appearing at TRQ x causes TRQ x 1 to be changed to HIGH which propagates all the way to TRQ 3 . This arrangement means that the four bit test result data DOUT 3 0 and DOUT 7 4 indicate a reference current amount that is the smallest to exceed the test current I.

Further these embodiments have been described with reference to an example in which a cell transistor to be tested is a MIS transistor that is subjected to a hot carrier effect for storage of data. The present invention is not limited to such an example and is applicable to any memory device in which memory cell transistors are used to store data bits. Such a memory device is not limited to a nonvolatile memory device and may be a volatile memory device. The cell test circuitry disclosed heretofore may be used to test the memory cell transistors embedded in such a memory device. Further memory cell transistors to be tested are not limited to N channel transistors and may be P channel transistors. Those skilled in the art would easily recognize that the testing of P channel transistors can be performed basically in the same manner as in the case of the testing of N channel transistors. Modification to be made to the test cell circuitry disclosed heretofore for the purpose of testing P channel transistors requires only a routine skill in the art.

Moreover the embodiments described heretofore have been directed to an example in which a reference current is successively increased. This is not intended to be limiting in any manner. The reference current may be successively decreased and the first current to go below a test current may be used to indicate the amount of test current.

Further the present invention is not limited to these embodiments but various variations and modifications may be made without departing from the scope of the present invention.

